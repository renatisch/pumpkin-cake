{"ast":null,"code":"function _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\nimport { serializePayload } from \"./serializer.js\";\nfunction chunk(arr) {\n  var chunkSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 20;\n  var chunks = [];\n  for (var i = 0; i < Math.ceil(arr.length / chunkSize); i++) {\n    chunks.push(arr.slice(i * chunkSize, (i + 1) * chunkSize));\n  }\n  return chunks;\n}\nexport function _buildEventPayloadsForHits(_ref) {\n  var index = _ref.index,\n    widgetType = _ref.widgetType,\n    methodName = _ref.methodName,\n    args = _ref.args,\n    instantSearchInstance = _ref.instantSearchInstance;\n  // when there's only one argument, that means it's custom\n  if (args.length === 1 && _typeof(args[0]) === 'object') {\n    return [args[0]];\n  }\n  var _args$0$split = args[0].split(':'),\n    _args$0$split2 = _slicedToArray(_args$0$split, 2),\n    eventType = _args$0$split2[0],\n    eventModifier = _args$0$split2[1];\n  var hits = args[1];\n  var eventName = args[2];\n  if (!hits) {\n    if (process.env.NODE_ENV === 'development') {\n      throw new Error(\"You need to pass hit or hits as the second argument like:\\n  \".concat(methodName, \"(eventType, hit);\\n  \"));\n    } else {\n      return [];\n    }\n  }\n  if ((eventType === 'click' || eventType === 'conversion') && !eventName) {\n    if (process.env.NODE_ENV === 'development') {\n      throw new Error(\"You need to pass eventName as the third argument for 'click' or 'conversion' events like:\\n  \".concat(methodName, \"('click', hit, 'Product Purchased');\\n\\n  To learn more about event naming: https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/in-depth/clicks-conversions-best-practices/\\n  \"));\n    } else {\n      return [];\n    }\n  }\n  var hitsArray = Array.isArray(hits) ? hits : [hits];\n  if (hitsArray.length === 0) {\n    return [];\n  }\n  var queryID = hitsArray[0].__queryID;\n  var hitsChunks = chunk(hitsArray);\n  var objectIDsByChunk = hitsChunks.map(function (batch) {\n    return batch.map(function (hit) {\n      return hit.objectID;\n    });\n  });\n  var positionsByChunk = hitsChunks.map(function (batch) {\n    return batch.map(function (hit) {\n      return hit.__position;\n    });\n  });\n  if (eventType === 'view') {\n    if (instantSearchInstance.status !== 'idle') {\n      return [];\n    }\n    return hitsChunks.map(function (batch, i) {\n      return {\n        insightsMethod: 'viewedObjectIDs',\n        widgetType: widgetType,\n        eventType: eventType,\n        payload: {\n          eventName: eventName || 'Hits Viewed',\n          index: index,\n          objectIDs: objectIDsByChunk[i]\n        },\n        hits: batch,\n        eventModifier: eventModifier\n      };\n    });\n  } else if (eventType === 'click') {\n    return hitsChunks.map(function (batch, i) {\n      return {\n        insightsMethod: 'clickedObjectIDsAfterSearch',\n        widgetType: widgetType,\n        eventType: eventType,\n        payload: {\n          eventName: eventName || 'Hit Clicked',\n          index: index,\n          queryID: queryID,\n          objectIDs: objectIDsByChunk[i],\n          positions: positionsByChunk[i]\n        },\n        hits: batch,\n        eventModifier: eventModifier\n      };\n    });\n  } else if (eventType === 'conversion') {\n    return hitsChunks.map(function (batch, i) {\n      return {\n        insightsMethod: 'convertedObjectIDsAfterSearch',\n        widgetType: widgetType,\n        eventType: eventType,\n        payload: {\n          eventName: eventName || 'Hit Converted',\n          index: index,\n          queryID: queryID,\n          objectIDs: objectIDsByChunk[i]\n        },\n        hits: batch,\n        eventModifier: eventModifier\n      };\n    });\n  } else if (process.env.NODE_ENV === 'development') {\n    throw new Error(\"eventType(\\\"\".concat(eventType, \"\\\") is not supported.\\n    If you want to send a custom payload, you can pass one object: \").concat(methodName, \"(customPayload);\\n    \"));\n  } else {\n    return [];\n  }\n}\nexport function createSendEventForHits(_ref2) {\n  var instantSearchInstance = _ref2.instantSearchInstance,\n    index = _ref2.index,\n    widgetType = _ref2.widgetType;\n  var sentEvents = {};\n  var timer = undefined;\n  var sendEventForHits = function sendEventForHits() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    var payloads = _buildEventPayloadsForHits({\n      widgetType: widgetType,\n      index: index,\n      methodName: 'sendEvent',\n      args: args,\n      instantSearchInstance: instantSearchInstance\n    });\n    payloads.forEach(function (payload) {\n      if (payload.eventType === 'click' && payload.eventModifier === 'internal' && sentEvents[payload.eventType]) {\n        return;\n      }\n      sentEvents[payload.eventType] = true;\n      instantSearchInstance.sendEventToInsights(payload);\n    });\n    clearTimeout(timer);\n    timer = setTimeout(function () {\n      sentEvents = {};\n    }, 0);\n  };\n  return sendEventForHits;\n}\nexport function createBindEventForHits(_ref3) {\n  var index = _ref3.index,\n    widgetType = _ref3.widgetType,\n    instantSearchInstance = _ref3.instantSearchInstance;\n  var bindEventForHits = function bindEventForHits() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    var payloads = _buildEventPayloadsForHits({\n      widgetType: widgetType,\n      index: index,\n      methodName: 'bindEvent',\n      args: args,\n      instantSearchInstance: instantSearchInstance\n    });\n    return payloads.length ? \"data-insights-event=\".concat(serializePayload(payloads)) : '';\n  };\n  return bindEventForHits;\n}","map":{"version":3,"names":["_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","o","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","len","length","arr2","_i","Symbol","iterator","_s","_e","_x","_r","_arr","_n","_d","next","done","push","value","err","return","isArray","_typeof","obj","serializePayload","chunk","chunkSize","arguments","undefined","chunks","Math","ceil","_buildEventPayloadsForHits","_ref","index","widgetType","methodName","args","instantSearchInstance","_args$0$split","split","_args$0$split2","eventType","eventModifier","hits","eventName","process","env","NODE_ENV","Error","concat","hitsArray","queryID","__queryID","hitsChunks","objectIDsByChunk","map","batch","hit","objectID","positionsByChunk","__position","status","insightsMethod","payload","objectIDs","positions","createSendEventForHits","_ref2","sentEvents","timer","sendEventForHits","_len","_key","payloads","forEach","sendEventToInsights","clearTimeout","setTimeout","createBindEventForHits","_ref3","bindEventForHits","_len2","_key2"],"sources":["/Users/renat.ishmukhamedov/Documents/dev_projects/extractor/frontend/node_modules/instantsearch.js/es/lib/utils/createSendEventForHits.js"],"sourcesContent":["function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nimport { serializePayload } from \"./serializer.js\";\nfunction chunk(arr) {\n  var chunkSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 20;\n  var chunks = [];\n  for (var i = 0; i < Math.ceil(arr.length / chunkSize); i++) {\n    chunks.push(arr.slice(i * chunkSize, (i + 1) * chunkSize));\n  }\n  return chunks;\n}\nexport function _buildEventPayloadsForHits(_ref) {\n  var index = _ref.index,\n    widgetType = _ref.widgetType,\n    methodName = _ref.methodName,\n    args = _ref.args,\n    instantSearchInstance = _ref.instantSearchInstance;\n  // when there's only one argument, that means it's custom\n  if (args.length === 1 && _typeof(args[0]) === 'object') {\n    return [args[0]];\n  }\n  var _args$0$split = args[0].split(':'),\n    _args$0$split2 = _slicedToArray(_args$0$split, 2),\n    eventType = _args$0$split2[0],\n    eventModifier = _args$0$split2[1];\n  var hits = args[1];\n  var eventName = args[2];\n  if (!hits) {\n    if (process.env.NODE_ENV === 'development') {\n      throw new Error(\"You need to pass hit or hits as the second argument like:\\n  \".concat(methodName, \"(eventType, hit);\\n  \"));\n    } else {\n      return [];\n    }\n  }\n  if ((eventType === 'click' || eventType === 'conversion') && !eventName) {\n    if (process.env.NODE_ENV === 'development') {\n      throw new Error(\"You need to pass eventName as the third argument for 'click' or 'conversion' events like:\\n  \".concat(methodName, \"('click', hit, 'Product Purchased');\\n\\n  To learn more about event naming: https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/in-depth/clicks-conversions-best-practices/\\n  \"));\n    } else {\n      return [];\n    }\n  }\n  var hitsArray = Array.isArray(hits) ? hits : [hits];\n  if (hitsArray.length === 0) {\n    return [];\n  }\n  var queryID = hitsArray[0].__queryID;\n  var hitsChunks = chunk(hitsArray);\n  var objectIDsByChunk = hitsChunks.map(function (batch) {\n    return batch.map(function (hit) {\n      return hit.objectID;\n    });\n  });\n  var positionsByChunk = hitsChunks.map(function (batch) {\n    return batch.map(function (hit) {\n      return hit.__position;\n    });\n  });\n  if (eventType === 'view') {\n    if (instantSearchInstance.status !== 'idle') {\n      return [];\n    }\n    return hitsChunks.map(function (batch, i) {\n      return {\n        insightsMethod: 'viewedObjectIDs',\n        widgetType: widgetType,\n        eventType: eventType,\n        payload: {\n          eventName: eventName || 'Hits Viewed',\n          index: index,\n          objectIDs: objectIDsByChunk[i]\n        },\n        hits: batch,\n        eventModifier: eventModifier\n      };\n    });\n  } else if (eventType === 'click') {\n    return hitsChunks.map(function (batch, i) {\n      return {\n        insightsMethod: 'clickedObjectIDsAfterSearch',\n        widgetType: widgetType,\n        eventType: eventType,\n        payload: {\n          eventName: eventName || 'Hit Clicked',\n          index: index,\n          queryID: queryID,\n          objectIDs: objectIDsByChunk[i],\n          positions: positionsByChunk[i]\n        },\n        hits: batch,\n        eventModifier: eventModifier\n      };\n    });\n  } else if (eventType === 'conversion') {\n    return hitsChunks.map(function (batch, i) {\n      return {\n        insightsMethod: 'convertedObjectIDsAfterSearch',\n        widgetType: widgetType,\n        eventType: eventType,\n        payload: {\n          eventName: eventName || 'Hit Converted',\n          index: index,\n          queryID: queryID,\n          objectIDs: objectIDsByChunk[i]\n        },\n        hits: batch,\n        eventModifier: eventModifier\n      };\n    });\n  } else if (process.env.NODE_ENV === 'development') {\n    throw new Error(\"eventType(\\\"\".concat(eventType, \"\\\") is not supported.\\n    If you want to send a custom payload, you can pass one object: \").concat(methodName, \"(customPayload);\\n    \"));\n  } else {\n    return [];\n  }\n}\nexport function createSendEventForHits(_ref2) {\n  var instantSearchInstance = _ref2.instantSearchInstance,\n    index = _ref2.index,\n    widgetType = _ref2.widgetType;\n  var sentEvents = {};\n  var timer = undefined;\n  var sendEventForHits = function sendEventForHits() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    var payloads = _buildEventPayloadsForHits({\n      widgetType: widgetType,\n      index: index,\n      methodName: 'sendEvent',\n      args: args,\n      instantSearchInstance: instantSearchInstance\n    });\n    payloads.forEach(function (payload) {\n      if (payload.eventType === 'click' && payload.eventModifier === 'internal' && sentEvents[payload.eventType]) {\n        return;\n      }\n      sentEvents[payload.eventType] = true;\n      instantSearchInstance.sendEventToInsights(payload);\n    });\n    clearTimeout(timer);\n    timer = setTimeout(function () {\n      sentEvents = {};\n    }, 0);\n  };\n  return sendEventForHits;\n}\nexport function createBindEventForHits(_ref3) {\n  var index = _ref3.index,\n    widgetType = _ref3.widgetType,\n    instantSearchInstance = _ref3.instantSearchInstance;\n  var bindEventForHits = function bindEventForHits() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    var payloads = _buildEventPayloadsForHits({\n      widgetType: widgetType,\n      index: index,\n      methodName: 'bindEvent',\n      args: args,\n      instantSearchInstance: instantSearchInstance\n    });\n    return payloads.length ? \"data-insights-event=\".concat(serializePayload(payloads)) : '';\n  };\n  return bindEventForHits;\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}